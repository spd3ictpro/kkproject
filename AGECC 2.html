<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Age & BMI Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background-color: #ADD8E6; /* Light Blue Background */
      color: #ffffff; /* White text */
      padding: 40px 0; /* Increased padding for a bigger section */
      font-size: 48px; /* Larger font size */
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 3px; /* Increased letter spacing */
      box-shadow: 0 6px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for elegance */
    }
    input {
      margin: 10px;
      padding: 10px;
      font-size: 16px;
      width: 200px;
    }
    button {
      margin: 10px;
      padding: 10px;
      font-size: 16px;
    }
    .section {
      margin-top: 30px;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 10px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }
    .input-group {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    .input-group input {
      flex: 1;
      max-width: 200px;
    }
    .result {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
      padding: 10px;
      border-radius: 5px;
    }
    .age-result {
      margin-top: 20px;
    }
    .age-teen {
      background-color: #87CEFA;
      color: #000;
    }
    .age-adult {
      background-color: #98FB98;
      color: #000;
    }
    .age-senior {
      background-color: #FFD700;
      color: #000;
    }
    .bmi-result {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }
    .bmi-classification {
      margin-top: 10px;
      padding: 10px;
      border-radius: 5px;
      font-size: 16px;
      font-weight: bold;
    }
    .underweight {
      background-color: #87CEFA;
      color: #000;
    }
    .normal {
      background-color: #98FB98;
      color: #000;
    }
    .overweight {
      background-color: #FFD700;
      color: #000;
    }
    .obese1 {
      background-color: #FFA07A;
      color: #000;
    }
    .obese2 {
      background-color: #FF6347;
      color: #000;
    }
    .obese3 {
      background-color: #FF4500;
      color: #fff;
    }
    .footnote {
      font-size: 14px;
      color: #777;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <!-- Title Section -->
  <header>
    Age & BMI Calculator
  </header>

  <!-- Age Calculator Section -->
  <div class="section">
    <h2>Age Calculator</h2>
    <p>Enter the year of birth and press Enter or click the button:</p>
    <input type="number" id="yearInput" placeholder="Year of Birth">
    <button onclick="calculateAge()">Calculate Age</button>
    <div id="ageResult" class="result"></div>
  </div>

  <!-- BMI Calculator Section -->
  <div class="section">
    <h2>BMI Calculator</h2>
    <p>Enter your weight (kg) and height (m), then press Enter or click the button:</p>
    <div class="input-group">
      <input type="number" id="weightInput" placeholder="Weight (kg)" step="0.1">
      <input type="text" id="heightInput" placeholder="Height (m)">
    </div>
    <button onclick="calculateBMI()">Calculate BMI</button>
    <div id="bmiResult" class="bmi-result"></div>
    <div id="bmiClassification" class="bmi-classification"></div>
    <div class="footnote">
      <p>Based on Malaysian CPG Management of Obesity (Second Edition) 2023</p>
    </div>
  </div>

  <script>
    // Age Calculator
    const yearInput = document.getElementById('yearInput');
    const ageResult = document.getElementById('ageResult');

    function calculateAge() {
      const yearOfBirth = yearInput.value;
      const currentYear = new Date().getFullYear();
      if (yearOfBirth) {
        const age = currentYear - yearOfBirth;
        const { ageCategory, cssClass } = interpretAge(age);
        ageResult.textContent = `Age: ${age}`;
        ageResult.className = `result ${cssClass}`;
      } else {
        ageResult.textContent = 'Please enter a valid year.';
        ageResult.className = 'result';
      }
    }

    function interpretAge(age) {
      if (age < 18) return { ageCategory: "Teen", cssClass: "age-teen" };
      if (age >= 18 && age < 65) return { ageCategory: "Adult", cssClass: "age-adult" };
      if (age >= 65) return { ageCategory: "Senior", cssClass: "age-senior" };
      return { ageCategory: "Invalid", cssClass: "" };
    }

    yearInput.addEventListener('keydown', function(event) {
      if (event.key === 'Enter') {
        calculateAge();
      }
    });

    // BMI Calculator
    const weightInput = document.getElementById('weightInput');
    const heightInput = document.getElementById('heightInput');
    const bmiResult = document.getElementById('bmiResult');
    const bmiClassification = document.getElementById('bmiClassification');

    function calculateBMI() {
      const weight = parseFloat(weightInput.value);
      const height = heightInput.value;

      if (validateHeight(height) && weight) {
        const heightValue = parseFloat(height);
        const bmi = (weight / (heightValue * heightValue)).toFixed(2);
        const { interpretation, cssClass } = interpretBMI(bmi);
        bmiResult.textContent = `BMI: ${bmi}`;
        bmiClassification.textContent = interpretation;
        bmiClassification.className = `bmi-classification ${cssClass}`;
      } else if (!validateHeight(height)) {
        bmiResult.textContent = '';
        bmiClassification.textContent = "It's impossible for a human to be that tall.";
        bmiClassification.className = 'bmi-classification';
      } else {
        bmiResult.textContent = '';
        bmiClassification.textContent = 'Please enter valid weight and height.';
        bmiClassification.className = 'bmi-classification';
      }
    }

    function validateHeight(height) {
      const heightRegex = /^[0-2](\.\d{1,2})?$/; // Matches numbers up to 2.99 with up to 2 decimals
      const heightValue = parseFloat(height);
      return heightRegex.test(height) && heightValue <= 2.5; // Ensure height is <= 2.5
    }

    function interpretBMI(bmi) {
      bmi = parseFloat(bmi);
      if (bmi < 18.5) return { interpretation: "Underweight", cssClass: "underweight" };
      if (bmi >= 18.5 && bmi <= 22.9) return { interpretation: "Normal", cssClass: "normal" };
      if (bmi >= 23.0 && bmi <= 27.4) return { interpretation: "Overweight (Pre-obese)", cssClass: "overweight" };
      if (bmi >= 27.5 && bmi <= 32.4) return { interpretation: "Obese Class I", cssClass: "obese1" };
      if (bmi >= 32.5 && bmi <= 37.4) return { interpretation: "Obese Class II", cssClass: "obese2" };
      if (bmi >= 37.5) return { interpretation: "Obese Class III", cssClass: "obese3" };
      return { interpretation: "Invalid BMI", cssClass: "" };
    }

    weightInput.addEventListener('keydown', function(event) {
      if (event.key === 'Enter') {
        calculateBMI();
      }
    });

    heightInput.addEventListener('keydown', function(event) {
      if (event.key === 'Enter') {
        calculateBMI();
      }
    });
  </script>
</body>
</
